<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial Request's</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./style.css"></link>
</head>
<body>
     <!-- new request modal -->
     <div class="new-request">
        <div class="modal">
          <h2>Request a Tutorial</h2>
          <form>
            <input type="text" name="request" placeholder="Request...">
            <button>Submit Request</button>
            <p class="error"></p>
          </form>
        </div>
      </div>
      <div class="theme-switch-wrapper">
        <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
      </label>
      <em class="toggle-text">Enable Dark Mode!</em>
    </div>
    <header>
        <nav>
            <span class="add-request">add request</span>
            <a href="" class="sign-out">sign out</a>
        </nav>
    </header>
    <section class="content">
        <h1>Stacks to learn</h1>
        <ul class="request-list"> 
            <li>
              <span class="text">Nodejs</span>
              <div>
                <span class="votes">125</span>
                <i class="material-icons upvote">arrow_upward</i>
              </div>
            </li>
          </ul>
    </section>
    <script>
        const requestModal = document.querySelector('.new-request');
        const requestLink = document.querySelector('.add-request');

        // open request modal
        requestLink.addEventListener('click', () => {
        requestModal.classList.add('open');
        });
        requestModal.addEventListener('click', (e) => {
            if (e.target.classList.contains('new-request')) {
                requestModal.classList.remove('open');
            }
        });
        // Toggle dark/light modes
        const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
        const currentTheme = localStorage.getItem('theme');
        const toggleText = document.querySelector('.toggle-text');

        if (currentTheme) {
            document.documentElement.setAttribute('data-theme', currentTheme);
        
            if (currentTheme === 'dark') {
                toggleSwitch.checked = true;
            }
        }

        function switchTheme(e) {
            if (e.target.checked) {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                toggleText.textContent = "Disable for light mode";
            }
            else { 
                document.documentElement.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
                toggleText.textContent = "Enable dark mode";
            }    
        }

        toggleSwitch.addEventListener('change', switchTheme, false);
    </script>
</body>
</html>